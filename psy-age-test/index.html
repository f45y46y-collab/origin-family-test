<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>心理年龄测试 · 灵魂实际几岁？</title>
<style>
:root{
  --bg: radial-gradient(circle at top,#0f172a 0,#020617 45%,#000 100%);
  --card-bg: rgba(15,23,42,.95);
  --accent: #a855f7;
}
*{box-sizing:border-box;}
body{
  margin:0;
  padding:16px;
  background:var(--bg);
  color:#e5e7eb;
  font-family:-apple-system,BlinkMacSystemFont,"PingFang SC","Microsoft Yahei",sans-serif;
}
.wrap{
  max-width:860px;
  margin:0 auto 26px;
  margin-top:10px;
  border-radius:24px;
  padding:20px 18px 24px;
  background:
    radial-gradient(circle at 0 0,rgba(56,189,248,.18),transparent 55%),
    radial-gradient(circle at 100% 0,rgba(244,114,182,.16),transparent 55%),
    linear-gradient(145deg,rgba(15,23,42,.96),rgba(15,23,42,.98));
  border:1px solid rgba(148,163,184,.5);
  box-shadow:0 30px 90px rgba(15,23,42,.95);
  position:relative;
  overflow:hidden;
}
.wrap::before{
  content:"";
  position:absolute;
  inset:-40%;
  background:
    radial-gradient(circle at 15% 120%,rgba(59,130,246,.25),transparent 60%),
    radial-gradient(circle at 85% -10%,rgba(147,51,234,.3),transparent 55%);
  opacity:.55;
  pointer-events:none;
}
.inner{position:relative;z-index:1;}
h1{
  font-size:22px;
  margin:0 0 4px;
  letter-spacing:.14em;
  text-transform:uppercase;
}
.subtitle{
  font-size:13px;
  color:#9ca3af;
  margin-bottom:10px;
}
.badges{display:flex;flex-wrap:wrap;gap:6px;margin-bottom:12px;}
.badge{
  font-size:11px;
  padding:2px 8px;
  border-radius:999px;
  border:1px solid rgba(148,163,184,.7);
  background:rgba(15,23,42,.9);
  backdrop-filter:blur(10px);
}
.progress-bar-wrap{
  width:100%;
  height:6px;
  border-radius:999px;
  background:rgba(15,23,42,.9);
  border:1px solid rgba(51,65,85,.9);
  overflow:hidden;
  margin:6px 0 4px;
}
.progress-bar{
  height:100%;
  width:0%;
  border-radius:999px;
  background:linear-gradient(90deg,#22d3ee,#6366f1,#ec4899);
  transition:width .25s ease-out;
}
.progress-text{
  font-size:11px;
  color:#9ca3af;
  text-align:right;
}
.question{
  margin:16px 0 8px;
  font-size:14px;
  font-weight:600;
}
.option{margin:3px 0;font-size:13px;}
.option label{
  display:inline-flex;
  align-items:center;
  gap:6px;
  cursor:pointer;
}
.option input{accent-color:#6366f1;}
button{
  border:none;
  padding:11px 16px;
  border-radius:999px;
  cursor:pointer;
  font-size:15px;
}
.btn-main{
  width:100%;
  margin-top:12px;
  background:linear-gradient(135deg,#a855f7,#ec4899);
  color:#fff;
  box-shadow:0 12px 30px rgba(236,72,153,.45);
}
.btn-main:active{transform:translateY(1px);box-shadow:0 6px 18px rgba(236,72,153,.4);}
.result{
  margin-top:10px;
  font-size:14px;
  text-align:center;
  color:#e5e7eb;
}
.tip{
  font-size:11px;
  color:#9ca3af;
  margin-top:6px;
}
@media (max-width:640px){
  .wrap{padding:16px 14px 20px;border-radius:18px;}
  h1{font-size:19px;}
}
</style>
</head>
<body>
<div class="wrap">
  <div class="inner">
    <div class="header">
      <div class="badges">
        <span class="badge">Psychic Age • 心理年龄测试</span>
        <span class="badge">灵魂维度 · 情绪模式 · 内在成熟度</span>
      </div>
      <h1>你的灵魂实际几岁？</h1>
      <div class="subtitle">
        这不是身份证年龄，而是你在情绪、亲密关系、自我对话里的「真实年龄」。
      </div>
      <div class="progress-bar-wrap">
        <div class="progress-bar" id="progress-bar"></div>
      </div>
      <div class="progress-text" id="progress-text">已完成 0 / 20 题</div>
    </div>

    <div id="test"></div>

    <button class="btn-main" onclick="showResult()">查看我的心理年龄</button>
    <div class="result" id="result"></div>
    <div class="tip">建议保持直觉作答，全程大约 3～5 分钟。</div>
  </div>
</div>

<script>
// 20 题
const questions = [
"我会因为别人一句话而想很久",
"我经常把情绪压住，不让别人看到",
"我会突然很想一个人躺着",
"当别人突然冷淡，我会立刻胡思乱想",
"有时候我感觉自己好像格格不入",
"我会把别人放得比自己重要",
"我很难坚持一件事很久",
"我经常想逃离现在的生活",
"我会在深夜突然变得很清醒",
"我很容易被情绪左右",
"当关系稍微有点变化，我立刻能察觉",
"我经常感到空虚",
"我更喜欢安静、独处而不是社交",
"我经常觉得自己不够好",
"我有时会突然变得特别敏感",
"我对陌生人很冷，对亲近的人很依赖",
"我经常幻想另一种人生",
"我会对未来感到焦虑",
"我比同龄人成熟，但有时又特别孩子气",
"我总觉得自己“不是这个世界的普通人”"
];

// 生成题目
let html = "";
for(let i=0;i<questions.length;i++){
  html += `<div class="question">${i+1}. ${questions[i]}</div>
  <div class="option">
    <label><input type="radio" name="q${i}" value="3"> 非常符合</label>
  </div>
  <div class="option">
    <label><input type="radio" name="q${i}" value="2"> 比较符合</label>
  </div>
  <div class="option">
    <label><input type="radio" name="q${i}" value="1"> 偶尔符合</label>
  </div>
  <div class="option">
    <label><input type="radio" name="q${i}" value="0"> 不太符合 / 不符合</label>
  </div>`;
}
document.getElementById("test").innerHTML = html;

// 更新进度条
function updateProgress(){
  let answered = 0;
  for(let i=0;i<questions.length;i++){
    const checked = document.querySelector(`input[name="q${i}"]:checked`);
    if(checked) answered++;
  }
  const percent = Math.round(answered / questions.length * 100);
  document.getElementById("progress-bar").style.width = percent + "%";
  document.getElementById("progress-text").innerText = `已完成 ${answered} / ${questions.length} 题`;
}
document.addEventListener("change", function(e){
  if(e.target && e.target.name && e.target.name.startsWith("q")){
    updateProgress();
  }
});

// 展示结果
function showResult(){
  let total = 0;
  let answered = 0;
  for(let i=0;i<questions.length;i++){
    const checked = document.querySelector(`input[name="q${i}"]:checked`);
    if(checked){
      answered++;
      total += parseInt(checked.value);
    }
  }

  if(answered < questions.length * 0.7){
    alert("还有不少题没做完哦～\n至少答完 70% 再看结果，才更接近你的真实状态。");
    return;
  }

  // 映射总分到灵魂年龄段
  // 0–20: 60岁, 21–30: 35岁, 31–40: 28岁, 41–50: 21岁, 51–60: 14岁, 61–70: 7岁
  let age = 21;
  if(total <= 20) age = 60;
  else if(total <= 30) age = 35;
  else if(total <= 40) age = 28;
  else if(total <= 50) age = 21;
  else if(total <= 60) age = 14;
  else age = 7;

  document.getElementById("result").innerHTML =
    "你的心理年龄已生成 ✅<br>即将跳转到完整的灵魂年龄报告页";

  setTimeout(()=>{
    window.location.href = "report.html?age=" + age + "&score=" + total;
  }, 1500);
}
</script>
</body>
</html>
